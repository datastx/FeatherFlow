version: 2

models:
  - name: daily_trends
    description: Daily transaction trends and patterns
    meta:
      owner: "finance_team"
      tags: ["mart", "finance", "daily", "trends"]
    config:
      materialized: table
    database_name: analytics
    schema_name: marts_finance
    object_name: daily_trends
    columns:
      - name: transaction_date
        description: Date of transactions
        data_type: date
      - name: day_of_week
        description: Day of week (1-7, Monday to Sunday)
        data_type: integer
      - name: is_weekend
        description: Flag indicating if the day is a weekend
        data_type: boolean
      - name: total_transactions
        description: Total number of transactions on this day
        data_type: integer
      - name: total_amount
        description: Total transaction amount on this day
        data_type: decimal
      - name: avg_transaction_amount
        description: Average transaction amount on this day
        data_type: decimal
      - name: unique_customers
        description: Number of unique customers transacting on this day
        data_type: integer
      - name: unique_merchants
        description: Number of unique merchants transacting on this day
        data_type: integer
      - name: top_spending_category
        description: Category with the highest spending on this day
        data_type: string
      - name: top_spending_amount
        description: Amount spent in the top spending category
        data_type: decimal
      - name: morning_transactions
        description: Number of transactions in the morning (6am-12pm)
        data_type: integer
      - name: afternoon_transactions
        description: Number of transactions in the afternoon (12pm-6pm)
        data_type: integer
      - name: evening_transactions
        description: Number of transactions in the evening (6pm-12am)
        data_type: integer
      - name: night_transactions
        description: Number of transactions at night (12am-6am)
        data_type: integer